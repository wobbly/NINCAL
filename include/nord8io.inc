;..............................................................................
;
; NORD8IO INCLUSION
; NIN RECORD 'NEW RECORD' IO INCLUSION
;
; FILE NAME : NINORD8
;
;
;.............................................................................
;
NORD8KEY
	BRANCH	NORD8FLAG OF NORD81
	CALL	NORD8OPEN
NORD81
	TRAP	IOMssg Giving Error if IO
	branch	NORD8lock to NOR81L,NOR81R,NOR81N
NOR81L
	FILEPI	1;NORD8FILE
	READ	NORD8FILE,NORD8FLD;ORD8VARS
	TRAPCLR	IO
	RETURN
NOR81R
	READLK	NORD8FILE,NORD8FLD;ORD8VARS
	TRAPCLR	IO
	RETURN
NOR81N
	READ	NORD8FILE,NORD8FLD;ORD8VARS
	TRAPCLR	IO
	RETURN
;.............................................................................
;
; ENTRY POINT : NORD8TST
; REQUIRED    : NORD8FLD
; RETURNED    :
; DESCRIPTION : TEST KEY
;
NORD8TST
	BRANCH	NORD8FLAG TO NORD82
	CALL	NORD8OPEN
NORD82
	TRAP	IOMssg Giving Error if IO
	branch	NORD8lock to NOR82L,NOR82R,NOR82N
NOR82L
	FILEPI	1;NORD8FILE
	READ	NORD8FILE,NORD8FLD;;
	TRAPCLR	IO
	RETURN
NOR82R
	READLK	NORD8FILE,NORD8FLD;;
	TRAPCLR	IO
	RETURN
NOR82N
	READ	NORD8FILE,NORD8FLD;;
	TRAPCLR	IO
	RETURN
;.............................................................................
;
; ENTRY POINT : NORD8KS
; REQUIRED    :
; RETURNED    : RECORD NUMBER RECORD
; DESCRIPTION : KEY SEQUENTIAL RECORD NUMBER FILE READ
;
NORD8KS
	BRANCH	NORD8FLAG TO NORD83
	CALL	NORD8OPEN
NORD83
	TRAP	IOMssg Giving Error if IO
	branch	NORD8lock to NOR83L,NOR83R,NOR83N
NOR83L
	FILEPI	1;NORD8FILE
	READKS	NORD8FILE;ORD8VARS
	TRAPCLR	IO
	RETURN
NOR83R
	READKSLK NORD8FILE;ORD8VARS
	TRAPCLR	IO
	RETURN
NOR83N
	READKS	NORD8FILE;ORD8VARS
	TRAPCLR	IO
	RETURN
;.............................................................................
;
; ENTRY POINT : NORD8SEQ
; REQUIRED    :
; RETURNED    : RECORD NUMBER RECORD
; DESCRIPTION : SEQUENTIAL RECORD NUMBER FILE READ
;               APPLICATION'S RESPONSIBILITY TO TEST FLAGS
;
NORD8SEQ
	BRANCH	NORD8FLAG TO NORD84
	CALL	NORD8OPEN
NORD84
	TRAP	IOMssg Giving Error if IO
	branch	NORD8lock to NOR84L,NOR84R,NOR84N
NOR84L
	FILEPI	1;NORD8FILE
	READ	NORD8FILE,SEQ;ORD8VARS
	TRAPCLR	IO
	RETURN
NOR84R
	READLK	NORD8FILE,SEQ;ORD8VARS
	TRAPCLR	IO
	RETURN
NOR84N
	READ	NORD8FILE,SEQ;ORD8VARS
	TRAPCLR	IO
	RETURN
;.............................................................................
;
; ENTRY POINT : NORD8WRT
; REQUIRED    : 'NORD8FLD'
; RETURNED    :
; DESCRIPTION : EXACT ISAM KEY TXT/ISI INSERT
;
NORD8WRT
	BRANCH	NORD8FLAG TO NORD85
	CALL	NORD8OPEN
NORD85
	TRAP	IOMssg Giving Error if IO
	FILEPI	1;NORD8FLIST
	WRITE	NORD8FLIST;ORD8VARS
	trapclr	IO
	RETURN
;.............................................................................
;
; ENTRY POINT : NORD8UPD
; REQUIRED    : A PREVIOUS KEY READ
; RETURNED    :
; DESCRIPTION : KEY UPDATE RECORD NUMBER FILE
;
NORD8UPD
	BRANCH	NORD8FLAG TO NORD86
	CALL	NORD8OPEN
NORD86
	TRAP	IOMssg Giving Error if IO
	FILEPI	1;NORD8FLIST
	UPDATE	NORD8FLIST;ORD8VARS
	trapclr	IO
	RETURN
;.............................................................................
;
; ENTRY POINT : NORD8DEL
; REQUIRED    : 'NORD8FLD'
; RETURNED    :
; DESCRIPTION : EXACT ISAM KEY TXT/ISI DELETE
;
NORD8DEL
	BRANCH	NORD8FLAG TO NORD87
	CALL	NORD8OPEN
NORD87
	TRAP	IOMssg Giving Error if IO
	FILEPI	1;NORD8FLIST
	DELETE	NORD8FLIST
	trapclr	IO
	RETURN
..............................................................................
. ENTRY POINT : NORD8AIM
. REQUIRED    : NORD8FLD1,NORD8FLD2
. RETURNED    : RECORD
. DESCRIPTION : AIM FILE READ
.               APPLICATION'S RESPONSIBILITY TO TEST FLAGS
.
NORD8AIM
	BRANCH	NORD8FLAG,NORD88
	CALL	NORD8OPEN
NORD88
	trap	IOMssg giving Error if IO
	READ	NORD8FLE2,NORD8FLD1,NORD8FLD2;ORD8VARS
	trapclr	IO
	RETURN

..............................................................................
.
. ENTRY POINT : NORD8KG
. REQUIRED    : VALID PREVIOUS AIM READ
. RETURNED    : RECORD
. DESCRIPTION : AIM KEY GENEREIC FILE READ
.               APPLICATION'S RESPONSIBILITY TO TEST FLAGS
.
NORD8KG
	BRANCH	NORD8FLAG,NORD89
	CALL	NORD8OPEN
NORD89
	trap	IOMssg giving Error if IO
	READKG	NORD8FLE2;ORD8VARS
	trapclr	IO
	RETURN

;...............................................................................
;
; ENTRY POINT : NORD8OPEN
; REQUIRED    : 'NORD8FLAG'
; RETURNED    : 'NORD8FLAG' SET TO '1' IF OPENED
; DESCRIPTION : OPEN NIN RECORD NUMBER FILE
;               DISPLAY ERROR AND ABORT IF NOT ON-LINE.
;
NORD8OPEN
	TRAP	NORD8GONE IF IO
	OPEN	NORD8FLIST
	TRAPCLR	IO
	MOVE	C1 TO NORD8FLAG
	RETURN
;
NORD8GONE MOVE      NORD8NAME TO FILENAME
          CALL      FILEGONE
;
;.............................................................................